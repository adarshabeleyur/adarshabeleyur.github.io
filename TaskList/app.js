const form=document.querySelector("#task-form"),taskList=document.querySelector(".collection"),clearBtn=document.querySelector(".clear-tasks"),filter=document.querySelector("#filter"),taskInput=document.querySelector("#task");function loadEventListeners(){document.addEventListener("DOMContentLoaded",getTasks),form.addEventListener("submit",addTask),taskList.addEventListener("click",removeTask),clearBtn.addEventListener("click",clearTasks),filter.addEventListener("keyup",filterTasks)}function getTasks(){let e;(e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach(function(e){const t=document.createElement("li");t.className="collection-item",t.appendChild(document.createTextNode(e));const a=document.createElement("a");a.className="delete-item secondary-content",a.innerHTML='<i class="fa fa-remove"></i>',t.appendChild(a),taskList.appendChild(t)})}function addTask(e){""===taskInput.value&&alert("Add a task");const t=document.createElement("li");t.className="collection-item",t.appendChild(document.createTextNode(taskInput.value));const a=document.createElement("a");a.className="delete-item secondary-content",a.innerHTML='<i class="fa fa-remove"></i>',t.appendChild(a),taskList.appendChild(t),storeTaskInLocalStorage(taskInput.value),taskInput.value="",e.preventDefault()}function storeTaskInLocalStorage(e){let t;(t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).push(e),localStorage.setItem("tasks",JSON.stringify(t))}function removeTask(e){e.target.parentElement.classList.contains("delete-item")&&confirm("Are you sure?")&&(e.target.parentElement.parentElement.remove(),removeTaskFromLocalStorage(e.target.parentElement.parentElement))}function removeTaskFromLocalStorage(e){let t;(t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach(function(a,n){e.textContent===a&&t.splice(n,1)}),localStorage.setItem("tasks",JSON.stringify(t))}function clearTasks(){for(;taskList.firstChild;)taskList.removeChild(taskList.firstChild);clearFromLocalStorage()}function clearFromLocalStorage(){localStorage.clear()}function filterTasks(e){const t=e.target.value.toLowerCase();document.querySelectorAll(".collection-item").forEach(function(e){-1!=e.firstChild.textContent.toLowerCase().indexOf(t)?e.style.display="block":e.style.display="none"})}loadEventListeners();